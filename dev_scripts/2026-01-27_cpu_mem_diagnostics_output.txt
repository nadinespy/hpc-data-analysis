================================================================================
PART 1: cpus_req vs AllocCPUS (TRES ID 1 from tres_alloc)
================================================================================

Note: sacct's AllocCPUS is not a column — it's parsed from tres_alloc.
tres_alloc has format '1=N,...' where TRES ID 1 = CPU.
tres_alloc column: ('tres_alloc', 'text', 'NO', '', "''", '')

cpus_req vs AllocCPUS (top 30 combos by frequency):
    cpus_req    alloc_cpus       count       comparison
           1             1    19032000            EQUAL
           8             8     2127483            EQUAL
           1             2     1492731      alloc > req
           4             4     1489362            EQUAL
           5             5     1435526            EQUAL
           2             2     1252135            EQUAL
          16            16      812273            EQUAL
           6             6      628752            EQUAL
          10            10      496587            EQUAL
          12            12      339093            EQUAL
           3             3      265231            EQUAL
         100           100      231095            EQUAL
          32            32      200286            EQUAL
          20            20      116034            EQUAL
          22            22       79012            EQUAL
          28            28       43240            EQUAL
          30            30       39468            EQUAL
          14            14       31763            EQUAL
          24            24       28828            EQUAL
           1            28       27626      alloc > req
           7             7       23716            EQUAL
          64            64       21810            EQUAL
           5             6       17237      alloc > req
          24            28       16379      alloc > req
          50            50       15024            EQUAL
          40            40       14896            EQUAL
           1            32       13365      alloc > req
          25            25       11157            EQUAL
          15            15       11132            EQUAL
          10             0       10981      alloc < req

Summary: total=30508792, equal=28836107, differ=1672685

Sample jobs where cpus_req != AllocCPUS:
      id_job    cpus_req    alloc_cpus   nodes  tres_req  /  tres_alloc
    31398534           1             2       1  1=1,2=1000,4=1,1001=1  /  1=2,3=18446744073709551614,4=1,1001=1
    31396583           1             2       1  1=1,2=1000,4=1,1001=1  /  1=2,3=18446744073709551614,4=1,1001=1
    31396073           1             2       1  1=1,2=1000,4=1,1001=1  /  1=2,3=18446744073709551614,4=1,1001=1
    31395643           1             2       1  1=1,2=65536,4=1  /  1=2,3=18446744073709551614,4=1
    31395387           1             2       1  1=1,2=1000,4=1,1001=1  /  1=2,3=18446744073709551614,4=1,1001=1
    31395383           1             2       1  1=1,2=1000,4=1,1001=1  /  1=2,3=18446744073709551614,4=1,1001=1
    31395376           1             2       1  1=1,2=1000,4=1,1001=1  /  1=2,3=18446744073709551614,4=1,1001=1
    31395320           1             2       1  1=1,2=10240,4=1,1001=1  /  1=2,3=18446744073709551614,4=1,1001=1
    31395136           1             2       1  1=1,2=1000,4=1,1001=1  /  1=2,3=18446744073709551614,4=1,1001=1
    31395135           1             2       1  1=1,2=1000,4=1,1001=1  /  1=2,3=18446744073709551614,4=1,1001=1

================================================================================
PART 2: mem_req flag bit (--mem vs --mem-per-cpu)
================================================================================
mem_req column: ('mem_req', 'bigint(20) unsigned', 'NO', '', '0', '')

All memory-related columns in create_job_table:
  ('mem_req', 'bigint(20) unsigned', 'NO', '', '0', '')

mem_req flag bit distribution (bit 31 = --mem-per-cpu):
         per-node (no flag):   30508792 jobs

================================================================================
PART 3: mem_req vs tres_req memory for --mem-per-cpu jobs
================================================================================

--mem-per-cpu jobs with cpus_req > 1:
      id_job   cpus   mem_req_raw     mem_value    tres_mem   tres_mem/cpus  tres_req

--mem (per-node) jobs with cpus_req > 1, for comparison:
      id_job   cpus       mem_req    tres_mem    match?  tres_req
    31399723     36  9223372036854776808       36000        NO  1=36,2=36000,4=1
    31399722     36  9223372036854776808       36000        NO  1=36,2=36000,4=1
    31399673      8  9223372036854776808        8000        NO  1=8,2=8000,4=1,1001=1
    31399672      8  9223372036854776808        8000        NO  1=8,2=8000,4=1,1001=1
    31399591      8  9223372036854776808        8000        NO  1=8,2=8000,4=1,1001=1
    31399590      8  9223372036854776808        8000        NO  1=8,2=8000,4=1,1001=1
    31399584     36  9223372036854776808       36000        NO  1=36,2=36000,4=1
    31399583     36  9223372036854776808       36000        NO  1=36,2=36000,4=1
    31399526      8  9223372036854776808        8000        NO  1=8,2=8000,4=1,1001=1
    31399525      8  9223372036854776808        8000        NO  1=8,2=8000,4=1,1001=1
    31399443      8  9223372036854776808        8000        NO  1=8,2=8000,4=1,1001=1
    31399442      8  9223372036854776808        8000        NO  1=8,2=8000,4=1,1001=1
    31399440     36  9223372036854776808       36000        NO  1=36,2=36000,4=1
    31399439     36  9223372036854776808       36000        NO  1=36,2=36000,4=1
    31399383      8  9223372036854776808        8000        NO  1=8,2=8000,4=1,1001=1

================================================================================
PART 4: Jobs with apparent memory efficiency > 100% — which mem type?
================================================================================

Completed jobs where maxrss > tres_req_mem * 1M (apparent mem eff > 100%):
      id_job   cpus  mem_type     mem_val    tres_mem           maxrss      eff%
    31399039    100  per-node        1024        1024      66071298048   6153.4%
    31399038    100  per-node        1024        1024      70340276224   6550.9%
    31399037    100  per-node        1024        1024      67516297216   6287.9%
    31399036    100  per-node        1024        1024      69890437120   6509.1%
    31398955    100  per-node        1024        1024      63313985536   5896.6%
    31398954    100  per-node        1024        1024      68212940800   6352.8%
    31398946    100  per-node        1024        1024      58378649600   5436.9%
    31398945    100  per-node        1024        1024      63320621056   5897.2%
    31398890    100  per-node        1024        1024      67549421568   6291.0%
    31398889    100  per-node        1024        1024      67677835264   6303.0%
    31398785    100  per-node        1024        1024      70585286656   6573.8%
    31398784    100  per-node        1024        1024      71134097408   6624.9%
    31398783    100  per-node        1024        1024      68893581312   6416.2%
    31398782    100  per-node        1024        1024      66399105024   6183.9%
    31398648    100  per-node        1024        1024      68950900736   6421.6%
    31398647    100  per-node        1024        1024      66691489792   6211.1%
    31398646    100  per-node        1024        1024      71181127680   6629.3%
    31398591    100  per-node        1024        1024      68034674688   6336.2%
    31398534      1  per-node        1000        1000       2411020288    229.9%
    31398519    100  per-node        1024        1024      67750174720   6309.7%

Breakdown of mem eff > 100% jobs by memory request type:
    per-node:  2082500 jobs
