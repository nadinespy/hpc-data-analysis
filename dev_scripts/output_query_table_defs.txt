================================================================================
TABLE_DEFS_TABLE - Schema definitions stored by Slurm
================================================================================

=== "create_assoc_table" ===
alter table "create_assoc_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `comment` text, modify `flags` int unsigned default 0 not null, modify `is_def` tinyint default 0 not null, modify `id_assoc` int unsigned not null auto_increment, modify `user` tinytext not null default '', modify `acct` tinytext not null, modify `partition` tinytext not null default '', modify `parent_acct` tinytext not null default '', modify `id_parent` int unsigned not null, modify `lineage` text, modify `shares` int default 1 not null, modify `max_jobs` int default NULL, modify `max_jobs_accrue` int default NULL, modify `min_prio_thresh` int default NULL, modify `max_submit_jobs` int default NULL, modify `max_tres_pj` text not null default '', modify `max_tres_pn` text not null default '', modify `max_tres_mins_pj` text not null default '', modify `max_tres_run_mins` text not null default '', modify `max_wall_pj` int default NULL, modify `grp_jobs` int default NULL, modify `grp_jobs_accrue` int default NULL, modify `grp_submit_jobs` int default NULL, modify `grp_tres` text not null default '', modify `grp_tres_mins` text not null default '', modify `grp_tres_run_mins` text not null default '', modify `grp_wall` int default NULL, modify `priority` int unsigned default NULL, modify `def_qos_id` int default NULL, modify `qos` blob not null default '', modify `delta_qos` blob not null default '', drop primary key, add primary key (id_assoc), drop index udex, add unique index udex (user(42), acct(42), `partition`(42));

=== "create_assoc_usage_day_table" ===
alter table "create_assoc_usage_day_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `id` int unsigned not null, modify `id_alt` int unsigned default 0 not null, modify `id_tres` int default 1 not null, modify `time_start` bigint unsigned not null, modify `alloc_secs` bigint unsigned default 0 not null, drop primary key, add primary key (id, id_tres, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (mod_time);

=== "create_assoc_usage_hour_table" ===
alter table "create_assoc_usage_hour_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `id` int unsigned not null, modify `id_alt` int unsigned default 0 not null, modify `id_tres` int default 1 not null, modify `time_start` bigint unsigned not null, modify `alloc_secs` bigint unsigned default 0 not null, drop primary key, add primary key (id, id_tres, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (mod_time);

=== "create_assoc_usage_month_table" ===
alter table "create_assoc_usage_month_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `id` int unsigned not null, modify `id_alt` int unsigned default 0 not null, modify `id_tres` int default 1 not null, modify `time_start` bigint unsigned not null, modify `alloc_secs` bigint unsigned default 0 not null, drop primary key, add primary key (id, id_tres, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (mod_time);

=== "create_event_table" ===
alter table "create_event_table" modify `deleted` tinyint default 0 not null, modify `time_start` bigint unsigned not null, modify `time_end` bigint unsigned default 0 not null, modify `node_name` tinytext default '' not null, modify `extra` text, modify `cluster_nodes` text not null default '', modify `instance_id` text, modify `instance_type` text, modify `reason` tinytext not null, modify `reason_uid` int unsigned default 0xfffffffe not null, modify `state` int unsigned default 0 not null, modify `tres` text not null default '', drop primary key, add primary key (node_name(42), time_start), drop key rollup, add key rollup (time_start, time_end, state), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (time_end);

=== "create_job_env_table" ===
alter table "create_job_env_table" modify `deleted` tinyint default 0 not null, modify `hash_inx` bigint unsigned not null auto_increment, modify `last_used` timestamp DEFAULT CURRENT_TIMESTAMP not null, modify `env_hash` text not null, modify `env_vars` longtext, drop primary key, add primary key (hash_inx), drop index env_hash_inx, add unique index env_hash_inx (env_hash(66)), drop key archive_delete, add key archive_delete (deleted);

=== "create_job_script_table" ===
alter table "create_job_script_table" modify `deleted` tinyint default 0 not null, modify `hash_inx` bigint unsigned not null auto_increment, modify `last_used` timestamp DEFAULT CURRENT_TIMESTAMP not null, modify `script_hash` text not null, modify `batch_script` longtext, drop primary key, add primary key (hash_inx), drop index script_hash_inx, add unique index script_hash_inx (script_hash(66)), drop key archive_delete, add key archive_delete (deleted);

=== "create_job_table" ===
alter table "create_job_table" modify `job_db_inx` bigint unsigned not null auto_increment, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `account` tinytext, modify `admin_comment` text, modify `array_task_str` text, modify `array_max_tasks` int unsigned default 0 not null, modify `array_task_pending` int unsigned default 0 not null, modify `constraints` text default '', modify `container` text, modify `cpus_req` int unsigned not null, modify `derived_ec` int unsigned default 0 not null, modify `derived_es` text, modify `env_hash_inx` bigint unsigned default 0 not null, modify `exit_code` int unsigned default 0 not null, modify `extra` text, modify `flags` int unsigned default 0 not null, modify `failed_node` tinytext, modify `job_name` tinytext not null, modify `id_assoc` int unsigned not null, modify `id_array_job` int unsigned default 0 not null, modify `id_array_task` int unsigned default 0xfffffffe not null, modify `id_block` tinytext, modify `id_job` int unsigned not null, modify `id_qos` int unsigned default 0 not null, modify `id_resv` int unsigned not null, modify `id_wckey` int unsigned not null, modify `id_user` int unsigned not null, modify `id_group` int unsigned not null, modify `het_job_id` int unsigned not null, modify `het_job_offset` int unsigned not null, modify `kill_requid` int unsigned default null, modify `state_reason_prev` int unsigned not null, modify `licenses` text, modify `mcs_label` tinytext default '', modify `mem_req` bigint unsigned default 0 not null, modify `nodelist` text, modify `nodes_alloc` int unsigned not null, modify `node_inx` text, modify `partition` tinytext not null, modify `priority` int unsigned not null, modify `qos_req` text, modify `restart_cnt` smallint unsigned default 0, modify `resv_req` text, modify `script_hash_inx` bigint unsigned default 0 not null, modify `state` int unsigned not null, modify `timelimit` int unsigned default 0 not null, modify `time_submit` bigint unsigned default 0 not null, modify `time_eligible` bigint unsigned default 0 not null, modify `time_start` bigint unsigned default 0 not null, modify `time_end` bigint unsigned default 0 not null, modify `time_suspended` bigint unsigned default 0 not null, modify `gres_used` text not null default '', modify `wckey` tinytext not null default '', modify `work_dir` text not null default '', modify `segment_size` smallint unsigned default 0 not null, modify `std_err` text not null default '', modify `std_in` text not null default '', modify `std_out` text not null default '', modify `submit_line` longtext, modify `system_comment` text, modify `tres_alloc` text not null default '', modify `tres_req` text not null default '', drop primary key, add primary key (job_db_inx), drop index id_job, add unique index (id_job, time_submit), drop key old_tuple, add key old_tuple (id_job, id_assoc, time_submit), drop key rollup, add key rollup (time_eligible, time_end), drop key rollup2, add key rollup2 (time_end, time_eligible), drop key nodes_alloc, add key nodes_alloc (nodes_alloc), drop key wckey, add key wckey (id_wckey), drop key qos, add key qos (id_qos), drop key association, add key association (id_assoc), drop key array_job, add key array_job (id_array_job), drop key het_job, add key het_job (het_job_id), drop key reserv, add key reserv (id_resv), drop key sacct_def, add key sacct_def (id_user, time_start, time_end), drop key sacct_def2, add key sacct_def2 (id_user, time_end, time_eligible), drop key env_hash_inx, add key env_hash_inx (env_hash_inx), drop key script_hash_inx, add key script_hash_inx (script_hash_inx), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (time_end);

=== "create_last_ran_table" ===
alter table "create_last_ran_table" modify `hourly_rollup` bigint unsigned default 0 not null, modify `daily_rollup` bigint unsigned default 0 not null, modify `monthly_rollup` bigint unsigned default 0 not null, drop primary key, add primary key (hourly_rollup, daily_rollup, monthly_rollup);

=== "create_qos_usage_day_table" ===
alter table "create_qos_usage_day_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `id` int unsigned not null, modify `id_alt` int unsigned default 0 not null, modify `id_tres` int default 1 not null, modify `time_start` bigint unsigned not null, modify `alloc_secs` bigint unsigned default 0 not null, drop primary key, add primary key (id, id_alt, id_tres, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (mod_time);

=== "create_qos_usage_hour_table" ===
alter table "create_qos_usage_hour_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `id` int unsigned not null, modify `id_alt` int unsigned default 0 not null, modify `id_tres` int default 1 not null, modify `time_start` bigint unsigned not null, modify `alloc_secs` bigint unsigned default 0 not null, drop primary key, add primary key (id, id_alt, id_tres, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (mod_time);

=== "create_qos_usage_month_table" ===
alter table "create_qos_usage_month_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `id` int unsigned not null, modify `id_alt` int unsigned default 0 not null, modify `id_tres` int default 1 not null, modify `time_start` bigint unsigned not null, modify `alloc_secs` bigint unsigned default 0 not null, drop primary key, add primary key (id, id_alt, id_tres, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (mod_time);

=== "create_resv_table" ===
alter table "create_resv_table" modify `id_resv` int unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `assoclist` text not null default '', modify `flags` bigint unsigned default 0 not null, modify `nodelist` text not null default '', modify `node_inx` text not null default '', modify `resv_name` text not null, modify `time_start` bigint unsigned default 0 not null, modify `time_end` bigint unsigned default 0 not null, modify `time_force` bigint unsigned default 0 not null, modify `tres` text not null default '', modify `unused_wall` double unsigned default 0.0 not null, modify `comment` text, drop primary key, add primary key (id_resv, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (time_end);

=== "create_step_table" ===
alter table "create_step_table" modify `job_db_inx` bigint unsigned not null, modify `deleted` tinyint default 0 not null, modify `exit_code` int default 0 not null, modify `id_step` int not null, modify `step_het_comp` int unsigned default 0xfffffffe not null, modify `kill_requid` int unsigned default null, modify `nodelist` text not null, modify `nodes_alloc` int unsigned not null, modify `node_inx` text, modify `state` smallint unsigned not null, modify `step_name` text not null, modify `task_cnt` int unsigned not null, modify `task_dist` int default 0 not null, modify `time_start` bigint unsigned default 0 not null, modify `time_end` bigint unsigned default 0 not null, modify `time_suspended` bigint unsigned default 0 not null, modify `timelimit` int unsigned default 0 not null, modify `user_sec` bigint unsigned default 0 not null, modify `user_usec` int unsigned default 0 not null, modify `sys_sec` bigint unsigned default 0 not null, modify `sys_usec` int unsigned default 0 not null, modify `act_cpufreq` double unsigned default 0.0 not null, modify `consumed_energy` bigint unsigned default 0 not null, modify `container` text, modify `req_cpufreq_min` int unsigned default 0 not null, modify `req_cpufreq` int unsigned default 0 not null, modify `req_cpufreq_gov` int unsigned default 0 not null, modify `cwd` text not null default '', modify `std_err` text not null default '', modify `std_in` text not null default '', modify `std_out` text not null default '', modify `submit_line` longtext, modify `tres_alloc` text not null default '', modify `tres_usage_in_ave` text not null default '', modify `tres_usage_in_max` text not null default '', modify `tres_usage_in_max_taskid` text not null default '', modify `tres_usage_in_max_nodeid` text not null default '', modify `tres_usage_in_min` text not null default '', modify `tres_usage_in_min_taskid` text not null default '', modify `tres_usage_in_min_nodeid` text not null default '', modify `tres_usage_in_tot` text not null default '', modify `tres_usage_out_ave` text not null default '', modify `tres_usage_out_max` text not null default '', modify `tres_usage_out_max_taskid` text not null default '', modify `tres_usage_out_max_nodeid` text not null default '', modify `tres_usage_out_min` text not null default '', modify `tres_usage_out_min_taskid` text not null default '', modify `tres_usage_out_min_nodeid` text not null default '', modify `tres_usage_out_tot` text not null default '', drop primary key, add primary key (job_db_inx, id_step, step_het_comp), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (time_end);

=== "create_suspend_table" ===
alter table "create_suspend_table" modify `deleted` tinyint default 0 not null, modify `job_db_inx` bigint unsigned not null, modify `id_assoc` int not null, modify `time_start` bigint unsigned default 0 not null, modify `time_end` bigint unsigned default 0 not null, drop primary key, add primary key (job_db_inx, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (time_end);

=== "create_usage_day_table" ===
alter table "create_usage_day_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `id_tres` int not null, modify `time_start` bigint unsigned not null, modify `count` bigint unsigned default 0 not null, modify `alloc_secs` bigint unsigned default 0 not null, modify `down_secs` bigint unsigned default 0 not null, modify `pdown_secs` bigint unsigned default 0 not null, modify `idle_secs` bigint unsigned default 0 not null, modify `plan_secs` bigint unsigned default 0 not null, modify `over_secs` bigint unsigned default 0 not null, drop primary key, add primary key (id_tres, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (mod_time);

=== "create_usage_hour_table" ===
alter table "create_usage_hour_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `id_tres` int not null, modify `time_start` bigint unsigned not null, modify `count` bigint unsigned default 0 not null, modify `alloc_secs` bigint unsigned default 0 not null, modify `down_secs` bigint unsigned default 0 not null, modify `pdown_secs` bigint unsigned default 0 not null, modify `idle_secs` bigint unsigned default 0 not null, modify `plan_secs` bigint unsigned default 0 not null, modify `over_secs` bigint unsigned default 0 not null, drop primary key, add primary key (id_tres, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (mod_time);

=== "create_usage_month_table" ===
alter table "create_usage_month_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `id_tres` int not null, modify `time_start` bigint unsigned not null, modify `count` bigint unsigned default 0 not null, modify `alloc_secs` bigint unsigned default 0 not null, modify `down_secs` bigint unsigned default 0 not null, modify `pdown_secs` bigint unsigned default 0 not null, modify `idle_secs` bigint unsigned default 0 not null, modify `plan_secs` bigint unsigned default 0 not null, modify `over_secs` bigint unsigned default 0 not null, drop primary key, add primary key (id_tres, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (mod_time);

=== "create_wckey_table" ===
alter table "create_wckey_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `is_def` tinyint default 0 not null, modify `id_wckey` int unsigned not null auto_increment, modify `wckey_name` tinytext not null default '', modify `user` tinytext not null, drop primary key, add primary key (id_wckey), drop index udex, add unique index udex (wckey_name(42), user(42));

=== "create_wckey_usage_day_table" ===
alter table "create_wckey_usage_day_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `id` int unsigned not null, modify `id_alt` int unsigned default 0 not null, modify `id_tres` int default 1 not null, modify `time_start` bigint unsigned not null, modify `alloc_secs` bigint unsigned default 0 not null, drop primary key, add primary key (id, id_tres, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (mod_time);

=== "create_wckey_usage_hour_table" ===
alter table "create_wckey_usage_hour_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `id` int unsigned not null, modify `id_alt` int unsigned default 0 not null, modify `id_tres` int default 1 not null, modify `time_start` bigint unsigned not null, modify `alloc_secs` bigint unsigned default 0 not null, drop primary key, add primary key (id, id_tres, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (mod_time);

=== "create_wckey_usage_month_table" ===
alter table "create_wckey_usage_month_table" modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0 not null, modify `id` int unsigned not null, modify `id_alt` int unsigned default 0 not null, modify `id_tres` int default 1 not null, modify `time_start` bigint unsigned not null, modify `alloc_secs` bigint unsigned default 0 not null, drop primary key, add primary key (id, id_tres, time_start), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (mod_time);

=== acct_coord_table ===
alter table acct_coord_table modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0, modify `acct` tinytext not null, modify `user` tinytext not null, drop primary key, add primary key (acct(42), user(42)), drop key user, add key user (user(42));

=== acct_table ===
alter table acct_table modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0, modify `flags` int unsigned default 0, modify `name` tinytext not null, modify `description` text not null, modify `organization` text not null, drop primary key, add primary key (name(42));

=== cluster_table ===
alter table cluster_table modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0, modify `name` tinytext not null, modify `id` smallint, modify `control_host` tinytext not null default '', modify `control_port` int unsigned not null default 0, modify `last_port` int unsigned not null default 0, modify `rpc_version` smallint unsigned not null default 0, modify `classification` smallint unsigned default 0, modify `dimensions` smallint unsigned default 1, modify `flags` int unsigned default 0, modify `federation` tinytext not null, modify `features` text not null default '', modify `fed_id` int unsigned default 0 not null, modify `fed_state` smallint unsigned not null, drop primary key, add primary key (name(42));

=== clus_res_table ===
alter table clus_res_table modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0, modify `cluster` tinytext not null, modify `res_id` int not null, modify `allowed` int unsigned default 0, drop primary key, add primary key (res_id, cluster(42));

=== convert_version_table ===
alter table convert_version_table modify `mod_time` bigint unsigned default 0 not null, modify `version` int default 0, drop primary key, add primary key (version);

=== federation_table ===
alter table federation_table modify `creation_time` int unsigned not null, modify `mod_time` int unsigned default 0 not null, modify `deleted` tinyint default 0, modify `name` tinytext not null, modify `flags` int unsigned default 0, drop primary key, add primary key (name(42));

=== qos_table ===
alter table qos_table modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0, modify `id` int not null auto_increment, modify `name` tinytext not null, modify `description` text, modify `flags` int unsigned default 0, modify `grace_time` int unsigned default NULL, modify `max_jobs_pa` int default NULL, modify `max_jobs_per_user` int default NULL, modify `max_jobs_accrue_pa` int default NULL, modify `max_jobs_accrue_pu` int default NULL, modify `min_prio_thresh` int default NULL, modify `max_submit_jobs_pa` int default NULL, modify `max_submit_jobs_per_user` int default NULL, modify `max_tres_pa` text not null default '', modify `max_tres_pj` text not null default '', modify `max_tres_pn` text not null default '', modify `max_tres_pu` text not null default '', modify `max_tres_mins_pj` text not null default '', modify `max_tres_run_mins_pa` text not null default '', modify `max_tres_run_mins_pu` text not null default '', modify `min_tres_pj` text not null default '', modify `max_wall_duration_per_job` int default NULL, modify `grp_jobs` int default NULL, modify `grp_jobs_accrue` int default NULL, modify `grp_submit_jobs` int default NULL, modify `grp_tres` text not null default '', modify `grp_tres_mins` text not null default '', modify `grp_tres_run_mins` text not null default '', modify `grp_wall` int default NULL, modify `preempt` text not null default '', modify `preempt_mode` int default 0, modify `preempt_exempt_time` int unsigned default NULL, modify `priority` int unsigned default 0, modify `usage_factor` double default 1.0 not null, modify `usage_thres` double default NULL, modify `limit_factor` double default NULL, drop primary key, add primary key (id), drop index udex, add unique index udex (name(42));

=== res_table ===
alter table res_table modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0, modify `id` int not null auto_increment, modify `name` tinytext not null, modify `description` text default null, modify `manager` tinytext not null, modify `server` tinytext not null, modify `count` int unsigned default 0, modify `type` int unsigned default 0, modify `flags` int unsigned default 0, modify `last_consumed` int unsigned default 0, drop primary key, add primary key (id), drop index udex, add unique index udex (name(42), server(42), type);

=== tres_table ===
alter table tres_table modify `creation_time` bigint unsigned not null, modify `deleted` tinyint default 0 not null, modify `id` int not null auto_increment, modify `type` tinytext not null, modify `name` tinytext not null default '', drop primary key, add primary key (id), drop index udex, add unique index udex (type(42), name(42));

=== txn_table ===
alter table txn_table modify `deleted` tinyint default 0 not null, modify `id` int not null auto_increment, modify `timestamp` bigint unsigned default 0 not null, modify `action` smallint not null, modify `name` text not null, modify `actor` tinytext not null, modify `cluster` tinytext not null default '', modify `info` blob, drop primary key, add primary key (id), drop key archive_delete, add key archive_delete (deleted), drop key archive_purge, add key archive_purge (timestamp, cluster(42));

=== user_table ===
alter table user_table modify `creation_time` bigint unsigned not null, modify `mod_time` bigint unsigned default 0 not null, modify `deleted` tinyint default 0, modify `name` tinytext not null, modify `admin_level` smallint default 1 not null, drop primary key, add primary key (name(42));
